---
displayed_sidebar: restfulSidebar
sidebar_positition: 29
slug: /restful/Create
title: "Create Collection | RESTful"
description: "This operation creates a collection in a specified cluster. | RESTful"
hide_table_of_contents: true
sidebar_label: "Create Collection"
sidebar_custom_props: { badges: ['post']}
---

# Create Collection

import RestSpecs from '@site/src/components/RestSpecs';

<RestSpecs specs={specs} endpoint={endpoint} method={method} target="milvus" lang="en-US" />

export const specs = {"summary":"Create Collection","deprecated":false,"description":"This operation creates a collection in a specified cluster.","x-i18n":{"zh-CN":{"summary":"创建 Collection","description":"本接口可在指定集群中创建 Collection。"}},"tags":["Collection Operations (V2)"],"parameters":[{"name":"Authorization","in":"header","description":"The authentication token should be <include target=\"zilliz\">an API key with appropriate privileges or </include>a pair of colon-joined username and password, like `username:password`.","required":true,"example":"Bearer {{TOKEN}}","schema":{"type":"string"},"x-i18n":{"zh-CN":{"description":"认证令牌，应为<include target=\"zilliz\">具备适当权限的 API 密钥或</include>用冒号分隔的用户名和密码，如 `username:password`。"}}}],"requestBody":{"content":{"application/json":{"schema":{"description":"Creates a collection in either the quick-setup mode or the custom-setup mode. \n\nIn the quick-setup mode, the schema of the created collection has two schema-defined fields named `id` and `vector` and enabled the dynamic field feature. \n\nIn the custom-setup mode, the schema is defined by the user and the dynamic field feature is disabled by default.","x-i18n":{"zh-CN":{"description":"支持使用快速建表方式和自定义建表方式创建 Collection。\n\n在快速建表方式下，创建的 Collection 具有两个由 Schema 定义的字段 `id` 和 `vector`，并启用了动态字段功能。\n\n在自定义建表方式下，用户可以自定义 Collection 的 Schema，并默认禁用了动态字段功能。"}},"oneOf":[{"x-tab-label":"quick setup","type":"object","properties":{"dbName":{"type":"string","description":"The name of the database.","x-i18n":{"zh-CN":{"description":"数据库名称。"}}},"collectionName":{"type":"string","description":"The name of the collection to create.","x-i18n":{"zh-CN":{"description":"待创建 Collection 的名称。"}}},"dimension":{"type":"integer","description":"The number of dimensions a vector value should have.\nThis is required if **dtype** of this field is set to **DataType.FLOAT\\_VECTOR** or **DataType.Binary\\_VECTOR**.","x-i18n":{"zh-CN":{"description":"向量值的维度数。\n若该字段的 **dtype** 为 **DataType.FLOAT\\_VECTOR** 或 **DataType.Binary\\_VECTOR**，则该字段为必填项。"}}},"metricType":{"type":"string","description":"The metric type applied to this operation.","x-i18n":{"zh-CN":{"description":"当前 Collection 的度量类型。"}},"enum":["L2","IP","COSINE"],"default":"COSINE"},"idType":{"type":"string","description":"The data type of the primary field. This parameter is designed for the quick-setup of a collection and will be ignored if __schema__ is defined.","x-i18n":{"zh-CN":{"description":"主键字段数据类型。该参数为快速创建 Collection 而设计，若您已定义 __schema__ 字段，则该参数将被忽略。"}}},"autoID":{"type":"string","default":"false","description":"Whether the primary field automatically increments. This parameter is designed for the quick-setup of a collection and will be ignored if __schema__ is defined.","x-i18n":{"zh-CN":{"description":"主键是否自动增长。该参数为快速创建 Collection 而设计，若您已定义 __schema__ 字段，则该参数将被忽略。"}}},"primaryFieldName":{"type":"string","description":"The name of the primary field. This parameter is designed for the quick-setup of a collection and will be ignored if __schema__ is defined.","x-i18n":{"zh-CN":{"description":"主键字段名称。该参数为快速创建 Collection 而设计，若您已定义 __schema__ 字段，则该参数将被忽略。"}}},"vectorFieldName":{"type":"string","description":"The name of the vector field. This parameter is designed for the quick-setup of a collection and will be ignored if __schema__ is defined.","x-i18n":{"zh-CN":{"description":"向量字段名称。该参数为快速创建 Collection 而设计，若您已定义 __schema__ 字段，则该参数将被忽略。"}}}},"required":["collectionName","dimension"]},{"x-tab-label":"custom setup","type":"object","properties":{"dbName":{"type":"string","description":"The name of the database.","x-i18n":{"zh-CN":{"description":"数据库名称。"}}},"collectionName":{"type":"string","description":"The name of the collection to create.","x-i18n":{"zh-CN":{"description":"待创建 Collection 的名称。"}}},"schema":{"description":"The schema is responsible for organizing data in the target collection. A valid schema should have multiple fields, which must include a primary key, a vector field, and several scalar fields. Setting this parameter means that `dimension`, `idType`, `autoID`, `primaryFieldName`, and `vectorFieldName` will be ignored.","x-i18n":{"zh-CN":{"description":"Schema 决定了 Collection 中数据的组织方式。一个有效的 Schema 应包含多个字段，其中必须包含主键字段、向量字段以及多个标量字段。设置本参数时，`dimension`、 `idType`、`autoID`、`primaryFieldName`、`vectorFieldName` 等参数将被忽略。"}},"type":"object","properties":{"autoID":{"type":"string","description":"Whether allows the primary field to automatically increment. Setting this to True makes the primary field automatically increment. In this case, the primary field should not be included in the data to insert to avoid errors. Set this parameter in the field with is_primary set to True.","x-i18n":{"zh-CN":{"description":"是否允许主键字段自动增长。将该参数设置为 `True` 则主键字段将自动增长。在这种情况下，请不要在插入数据时包含主键字段，以避免错误。如果当前字段的 `is_primary` 参数设置为 `True`，则本参数为必填项。"}}},"enableDynamicField":{"type":"string","description":"Whether allows to use the reserved __$meta__ field to hold non-schema-defined fields in key-value pairs.","x-i18n":{"zh-CN":{"description":"是否允许使用保留字段 __$meta__ 来保存 Schema 中未定义的字段。"}}},"fields":{"type":"array","items":{"description":"A field object","type":"object","properties":{"fieldName":{"type":"string","description":"The name of the field to create in the target collection","x-i18n":{"zh-CN":{"description":"目标 Collection 中待创建的字段名称。"}}},"dataType":{"type":"string","description":"The data type of the field values.","x-i18n":{"zh-CN":{"description":"字段值的数据类型。"}},"enum":["DataType.BOOL","DataType.INT8","DataType.INT16","DataType.INT32","DataType.INT64","DataType.FLOAT","DataType.DOUBLE","DataType.VARCHAR","DataType.ARRAY","DataType.JSON","DataType.BINARY_VECTOR","DataType.FLOAT_VECTOR","DataType.FLOAT16_VECTOR","DataType.BFLOAT16_VECTOR","DataType.SPARSE_FLOAT_VECTOR"]},"elementDataType":{"type":"string","description":"The data type of the elements in an array field. This is required if the current field is of the array type.","x-i18n":{"zh-CN":{"description":"数组字段中各元素的数据类型。若当前字段为数组类型，则该参数为必填项。"}},"enum":["DataType.BOOL","DataType.INT8","DataType.INT16","DataType.INT32","DataType.INT64","DataType.FLOAT","DataType.DOUBLE","DataType.VARCHAR"]},"isPrimary":{"type":"boolean","description":"Whether the current field is the primary field. Setting this to True makes the current field the primary field.","x-i18n":{"zh-CN":{"description":"当前字段是否为主键字段。将该参数设置为 `True` 则当前字段将成为主键字段。此时，还需要确定 `autoID` 参数的取值。"}}},"isPartitionKey":{"type":"boolean","description":"Whether the current field serves as the partition key. Setting this to True makes the current field serve as the partition key. In this case, <include target=\"milvus\">Milvus</include><include target=\"milvus\">Zilliz Cloud</include> manages all partitions in the current collection.","x-i18n":{"zh-CN":{"description":"当前字段是否为 Partition Key。将该参数设置为 `True` 则当前字段将作为 Partition Key。在这种情况下，<include target=\"milvus\">Milvus</include><include target=\"milvus\">Zilliz Cloud</include> 会管理当前 Collection 中的所有 Partition。"}}},"elementTypeParams":{"type":"object","properties":{"max_length":{"type":"integer","description":"An optional parameter for VarChar values that determines the maximum length of the value in the current field.","x-i18n":{"zh-CN":{"description":"如果当前字段的数据类型为 VarChar，则该参数为必填项，用于设置该字段值的最大长度。"}}},"dim":{"type":"integer","description":"An optional parameter for FloatVector or BinaryVector fields that determines the vector dimension.","x-i18n":{"zh-CN":{"description":"如果当前字段的数据类型为 FloatVector 或 BinaryVector，则该参数为必填项，用于设置向量维度。"}}},"max_capacity":{"type":"integer","description":"An optional parameter for Array field values that determines the maximum number of elements in the current array field.","x-i18n":{"zh-CN":{"description":"如果当前字段的数据类型为 Array，则该参数为必填项，用于设置该字段值的最大元素数量。"}}},"enable_analyzer":{"type":"boolean","description":"Whether to enable text analysis for the specified `VARCHAR` field. When set to `true`, it instructs Milvus to use a text analyzer, which tokenizes and filters the text content of the field.","x-i18n":{"zh-CN":{"description":"是否为指定 `VARCHAR` 字段启用文本分析。设置为 `true` 时，Milvus 会使用 Analyzer 对该字段的文本内容进行分词和过滤。"}},"x-include-target":["milvus"]},"analyzer_params":{"type":"object","properties":{"type":{"type":"string","description":"Pre-configured analyzer type built into Milvus, which can be used out-of-the-box by specifying its name. Possible values: `standard`, `english`, `chinese`. ","x-i18n":{"zh-CN":{"descripiton":"预配置的 Analyzer 类型，可通过指定名称使用。可选值：`standard`、`english`、`chinese`。"}}},"tokenizer":{"type":"string","description":"Defines the tokenizer type. Possible values: `standard` (default), `whitespace`, `jieba`.","x-i18n":{"zh-CN":{"description":"定义分词器类型。可选值：`standard`（默认），`whitespace`，`jieba`。"}}},"filter":{"type":"array","description":"Lists filters to refine tokens produced by the tokenizer, with options for built-in filters and custom filters.","x-i18n":{"zh-CN":{"description":"定义过滤器列表，用于对分词器产生的词进行过滤，可选内置过滤器和自定义过滤器。"}}}},"description":"Configures the analyzer for text processing, specifically for `DataType.VARCHAR` fields.","x-i18n":{"zh-CN":{"description":"用于处理 `DataType.VARCHAR` 字段的文本分析器配置。"}},"x-include-target":["milvus"]},"enable_match":{"type":"boolean","description":"  Whether to enable keyword matching for the specified `VARCHAR` field. When set to `true`, Milvus creates an inverted index for the field, allowing for quick and efficient keyword lookups. `enable_match` works in conjunction with `enable_analyzer` to provide structured keyword-based text search, with `enable_analyzer` handling tokenization and `enable_match` handling the search operations on these tokens.","x-i18n":{"zh-CN":{"description":"是否为指定 `VARCHAR` 字段启用关键词匹配。设置为 `true` 时，Milvus 会为该字段创建倒排索引，以支持快速和高效的关键词查询。`enable_match` 与 `enable_analyzer` 配合使用，以提供结构化的基于关键词的文本搜索，`enable_analyzer` 负责对文本内容进行分词和过滤，`enable_match` 负责对这些词进行搜索操作。"}},"x-include-target":["milvus"]}},"description":"Extra field parameters.","x-i18n":{"zh-CN":{"description":"字段附加参数。"}}},"defaultValue":{"type":"object","description":"The default value for the field, applicable only to scalar fields that are not primary fields.","x-i18n":{"zh-CN":{"description":"字段的默认值，仅适用于非主键字段的标量字段。"}},"x-include-target":["milvus"]},"nullable":{"type":"boolean","description":"Whether the field can be null. Defaults to `false`.","x-i18n":{"zh-CN":{"description":"字段是否可以为空。默认为 `false`。"}},"x-include-target":["milvus"]}},"required":["fieldName","dataType"]},"description":"A list of field objects.","x-i18n":{"zh-CN":{"description":"字段列表。"}}}},"required":["fields"]},"indexParams":{"type":"array","items":{"type":"object","properties":{"metricType":{"type":"string","description":"The similarity metric type used to build the index. For more information, refer to <include target=\"zilliz\">Similarity Metrics Explained](/docs/search-metrics-explained)</include><include target=\"milvus\">Similarity Metrics](https://milvus.io/docs/metric.md)</include>.","x-i18n":{"zh-CN":{"description":"用于构建索引的相似度类型。更多详情，请参考<include target=\"zilliz\">相似度指标详解</include><include target=\"milvus\">相似度指标](https://milvus.io/docs/metric.md)</include>。"}},"enum":["L2","IP","COSINE"],"default":"COSINE"},"fieldName":{"type":"string","description":"The name of the target field on which an index is to be created.","x-i18n":{"zh-CN":{"description":"要创建索引的目标字段名称。"}}},"indexName":{"type":"string","description":"The name of the index to create. The value defaults to the target field name.","x-i18n":{"zh-CN":{"description":"要创建的索引名称。该值默认为目标字段名称。"}}},"params":{"description":"The index type and related settings. <include target=\"milvus\">For details, refer to [Vector Indexes](https://milvus.io/docs/index.md).</include><include target=\"zilliz\">For Zilliz Cloud clusters, you should always set `index_type` to `AUTOINDEX`.</include>","x-i18n":{"zh-CN":{"description":"索引类型及相关设置。<include target=\"milvus\">详细信息请参考[向量索引](https://milvus.io/docs/index.md)</include><include target=\"zilliz\">对于 Zilliz Cloud 集群而言，请始终将 `index_type` 设置成 `AUTOINDEX`</include>。"}},"type":"object","properties":{"index_type":{"type":"string","description":"The type of the index to create","x-i18n":{"zh-CN":{"description":"要创建的索引类型。<include target=\"zilliz\">对于 Zilliz Cloud 集群而言，请始终将 `index_type` 设置成 `AUTOINDEX`</include>"}}},"M":{"type":"integer","description":"The maximum degree of the node. This applies only when **index_type** is set to __HNSW__.","x-i18n":{"zh-CN":{"description":"数据节点与其他节点连接的边数。此参数仅适用于**索引类型**为 __HNSW__ 的情况。"}},"x-include-target":["milvus"]},"efConstruction":{"type":"integer","description":"The search scope. This applies only when **index_type** is set to __HNSW__.","x-i18n":{"zh-CN":{"description":"搜索范围。此参数仅适用于**索引类型**为 __HNSW__ 的情况。"}},"x-include-target":["milvus"]},"nlist":{"type":"integer","description":"The number of cluster units. This applies only when **index_type** is set to __IVF-related__ index types.","x-i18n":{"zh-CN":{"description":"数据集群单元的数量。此参数仅适用于**索引类型**为 __IVF__ 系列索引的情况。"}},"x-include-target":["milvus"]}},"x-i18n-langs":["zh-CN"],"required":["index_type"]}},"x-i18n-langs":["zh-CN"],"required":["metricType","fieldName","indexName"]},"description":"The parameters that apply to the index-building process.","x-i18n":{"zh-CN":{"description":"索引构建所需相关参数。"}}},"params":{"description":"Extra parameters for the collection.","x-i18n":{"zh-CN":{"description":"创建 Collection 的附加参数。"}},"type":"object","properties":{"max_length":{"type":"integer","description":"The maximum number of characters in a VarChar field. This parameter is mandatory when the current field type is VarChar.","x-i18n":{"zh-CN":{"description":"设置 VarChar 字段的最大长度。如果当前字段类型为 VarChar 时，该参数为必填项。"}}},"enableDynamicField":{"type":"boolean","description":"Whether to enable the reserved dynamic field. If set to true, non-schema-defined fields are saved in the reserved dynamic field as key-value pairs.","x-i18n":{"zh-CN":{"description":"是否启用保留的动态字段。如果设置为 `true`，则非 Schema 定义的字段将以键值对的形式保存被保存到保留的动态字段中。"}}},"shardsNum":{"type":"integer","description":"The number of shards to create along with the current collection.","x-i18n":{"zh-CN":{"description":"随当前 Collection 创建的 Shard 数量。"}},"x-include-target":["milvus"]},"consistencyLevel":{"type":"integer","description":"The consistency level of the collection.","x-i18n":{"zh-CN":{"description":"当前 Collection 的一致性级别。"}},"enum":["STRONG","BOUNDED","<include target=\"milvus\">SESSION</include>","EVENTUALLY"]},"partitionsNum":{"type":"integer","description":"The number of partitions to create along with the current collection. This parameter is mandatory if one field of the collection has been designated as the partition key.","x-i18n":{"zh-CN":{"description":"随当前 Collection 创建的 Partition 数量。如果当前 Collection 中有指定为 Partition Key 的字段，则该参数为必填项。"}}},"ttlSeconds":{"type":"integer","description":"The time-to-live (TTL) period of the collection. If set, the collection is to be dropped once the period ends.","x-i18n":{"zh-CN":{"description":"当前 Collection 的 TTL 时间。如果设置，则在 TTL 时间结束后，该 Collection 将被删除。"}}}}}}}],"required":["collectionName"]},"examples":{"1":{"summary":"Quick setup","x-target-request":"OPTION 1","value":{"collectionName":"test_collection","dimension":5}},"2":{"summary":"Quick setup with custom fields","x-target-request":"OPTION 1","value":{"collectionName":"custom_quick_setup","dimension":5,"primaryFieldName":"my_id","idType":"VarChar","vectorFieldName":"my_vector","metric_type":"L2","autoId":true,"params":{"max_length":"512"}}},"3":{"summary":"Custom setup","x-target-request":"OPTION 2","value":{"collectionName":"custom_setup","schema":{"autoId":false,"enabledDynamicField":false,"fields":[{"fieldName":"my_id","dataType":"Int64","isPrimary":true},{"fieldName":"my_vector","dataType":"FloatVector","elementTypeParams":{"dim":"5"}}]}}},"4":{"summary":"Custom setup with index","x-target-request":"OPTION 2","x-include-target":["zilliz"],"value":{"collectionName":"custom_setup_indexed","schema":{"autoId":false,"enabledDynamicField":false,"fields":[{"fieldName":"my_id","dataType":"Int64","isPrimary":true},{"fieldName":"my_vector","dataType":"FloatVector","elementTypeParams":{"dim":"5"}}]},"indexParams":[{"fieldName":"my_vector","metricType":"COSINE","indexName":"my_vector","params":{"index_type":"AUTOINDEX"}},{"fieldName":"my_id","indexName":"my_id","params":{"index_type":"STL_SORT"}}]}},"5":{"summary":"Custom setup with index","x-target-request":"OPTION 2","x-include-target":["milvus"],"value":{"collectionName":"custom_setup_indexed","schema":{"autoId":false,"enabledDynamicField":false,"fields":[{"fieldName":"my_id","dataType":"Int64","isPrimary":true},{"fieldName":"my_vector","dataType":"FloatVector","elementTypeParams":{"dim":"5"}}]},"indexParams":[{"fieldName":"my_vector","metricType":"COSINE","indexName":"my_vector","params":{"index_type":"IVF_FLAT","nlist":1024}},{"fieldName":"my_id","indexName":"my_id","params":{"index_type":"STL_SORT"}}]}}}}}},"responses":{"200":{"description":"Returns a collection object.","x-i18n":{"zh-CN":{"description":"返回 Collection 对象。"}},"content":{"application/json":{"schema":{"anyOf":[{"x-tab-label":"success","type":"object","properties":{"code":{"type":"integer","description":"Response code.","x-i18n":{"zh-CN":{"description":"响应码。"}}},"data":{"type":"object","description":"Response payload which is an empty object.","x-i18n":{"zh-CN":{"description":"响应负载，为空对象。"}},"properties":{}}}},{"x-tab-label":"failure","description":"A failure response.","x-i18n":{"zh-CN":{"description":"失败响应。"}},"x-i18n-langs":["zh-CN"],"type":"object","properties":{"code":{"type":"integer","description":"Response code.","x-i18n":{"zh-CN":{"description":"响应码。"}}},"message":{"type":"string","description":"Error message.","x-i18n":{"zh-CN":{"description":"错误描述。"}}}}}]},"examples":{"1":{"summary":"success","x-target-response":"OPTION 1","value":{"code":0,"data":{}}},"2":{"summary":"failure","x-target-response":"OPTION 2","value":{"code":0,"message":"The token is illegal."}}}}}}},"security":[]}
export const endpoint = "/v2/vectordb/collections/create"
export const method = "post"
